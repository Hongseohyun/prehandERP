/*
 jquery.sumoselect - v3.0.2
 http://hemantnegi.github.io/jquery.sumoselect
 2014-04-08

 Copyright 2015 Hemant Negi
 Compressor http://refresh-sf.com/
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(b,e,c){b instanceof String&&(b=String(b));for(var f=b.length,a=0;a<f;a++){var d=b[a];if(e.call(c,d,a,b))return{i:a,v:d}}return{i:-1,v:void 0}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(b,e,c){b!=Array.prototype&&b!=Object.prototype&&(b[e]=c.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};
$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(b,e,c,f){if(e){c=$jscomp.global;b=b.split(".");for(f=0;f<b.length-1;f++){var a=b[f];a in c||(c[a]={});c=c[a]}b=b[b.length-1];f=c[b];e=e(f);e!=f&&null!=e&&$jscomp.defineProperty(c,b,{configurable:!0,writable:!0,value:e})}};$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(b,c){return $jscomp.findInternal(this,b,c).v}},"es6-impl","es3");
(function(b){"namespace sumo";b.fn.SumoSelect=function(e){var c=b.extend({placeholder:"\uc120\ud0dd",csvDispCount:5,captionFormat:"{0}\uac1c \uc120\ud0dd",captionFormatAllSelected:"\uc804\uccb4",floatWidth:400,forceCustomRendering:!1,nativeOnDevice:"Android;BlackBerry;iPhone;iPad;iPod;Opera Mini;IEMobile;Silk".split(";"),outputAsCSV:!1,csvSepChar:",",okCancelInMulti:!1,triggerChangeCombined:!0,selectAll:!1,selectAlltext:"\uc804\uccb4",search:!1,searchText:"Search...",noMatch:'No matches for "{0}"',
prefix:"",locale:["OK","Cancel","\uc804\uccb4"]},e);e=this.each(function(){var f=this;!this.sumo&&b(this).is("select")&&(this.sumo={E:b(f),is_multi:b(f).attr("multiple"),select:"",caption:"",placeholder:"",optDiv:"",CaptionCont:"",ul:"",is_floating:!1,is_opened:!1,mob:!1,Pstate:[],createElems:function(){this.E.wrap('<div class="SumoSelect" tabindex="0">');this.select=this.E.parent();this.caption=b('<span class="notreset">');this.CaptionCont=b('<p class="CaptionCont"><label><i></i></label></p>').addClass("SelectBox").attr("style",
this.E.attr("style")).prepend(this.caption);this.select.append(this.CaptionCont);this.is_multi||(c.okCancelInMulti=!1);this.E.attr("disabled")&&this.select.addClass("disabled").removeAttr("tabindex");c.outputAsCSV&&this.is_multi&&this.E.attr("name")&&(this.select.append(b('<input class="HEMANT123" type="hidden" />').attr("name",this.E.attr("name")).val(this.getSelStr())),this.E.removeAttr("name"));this.isMobile()&&!c.forceCustomRendering?this.setNativeMobile():(this.E.attr("name")&&this.select.addClass("sumo_"+
this.E.attr("name")),this.E.addClass("SumoUnder").attr("tabindex","-1"),this.optDiv=b('<div class="optWrapper '+(b(this.select.context).hasClass("up")?"up":"")+'">'),this.floatingList(),this.ul=b('<ul class="options">'),this.optDiv.append(this.ul),c.selectAll&&this.SelAll(),c.search&&this.Search(),this.ul.append(this.prepItems(this.E.children())),this.is_multi&&this.multiSelelect(),this.select.append(this.optDiv),this.basicEvents(),this.selAllState())},prepItems:function(a,d){var h=[],c=this;b(a).each(function(a,
g){g=b(g);h.push(g.is("optgroup")?b('<li class="group '+(g[0].disabled?"disabled":"")+'"><label>'+g.attr("label")+"</label><ul></ul><li>").find("ul").append(c.prepItems(g.children(),g[0].disabled)).end():c.createLi(g,d))});return h},createLi:function(a,d){a.attr("value")||a.attr("value",a.val());li=b('<li data-val="'+a.val()+'" class="opt"><label title="'+a.text()+'">'+a.text()+"</label></li>");li.data("opt",a);a.data("li",li);this.is_multi&&li.prepend('<span class="notreset"><i></i></span>');if(a[0].disabled||
d)li=li.addClass("disabled");this.onOptClick(li);a[0].selected&&li.addClass("selected");a.attr("class")&&li.addClass(a.attr("class"));return li},getSelStr:function(){sopt=[];this.E.find("option:selected").each(function(){sopt.push(b(this).val())});return sopt.join(c.csvSepChar)},getSelText:function(){sopt=[];this.E.children("option:selected").each(function(){sopt.push(b(this).text())});return sopt.join(c.csvSepChar)},getSelectedItems:function(){sopt=[];this.E.children("option:selected").each(function(){sopt.push(b(this).val())});
return sopt},multiSelelect:function(){var a=this;a.optDiv.addClass("multiple");a.okbtn=b('<p class="btnOk">'+c.locale[0]+"</p>").click(function(){c.triggerChangeCombined&&(changed=!1,a.E.find("option:selected").length!=a.Pstate.length?changed=!0:a.E.find("option").each(function(d,b){b.selected&&0>a.Pstate.indexOf(d)&&(changed=!0)}),changed&&(a.callChange(),a.setText()));a.hideOpts()});a.cancelBtn=b('<p class="btnCancel">'+c.locale[1]+"</p>").click(function(){a._cnbtn();a.hideOpts()});a.optDiv.append(b('<div class="MultiControls">').append(a.okbtn).append(a.cancelBtn))},
_cnbtn:function(){this.E.find("option:selected").each(function(){this.selected=!1});this.optDiv.find("li.selected").removeClass("selected");for(var a=0;a<this.Pstate.length;a++)this.E.find("option")[this.Pstate[a]].selected=!0,this.ul.find("li.opt").eq(this.Pstate[a]).addClass("selected");this.selAllState()},SelAll:function(){var a=this;a.is_multi&&(a.selAll=b('<p class="select-all"><span class="notreset"><i></i></span><label title="'+c.locale[2]+'">'+c.locale[2]+"</label></p>"),a.selAll.on("click",
function(){a.selAll.toggleClass("selected");a.optDiv.find("li.opt").not(".hidden").each(function(d,c){c=b(c);a.selAll.hasClass("selected")?c.hasClass("selected")||c.trigger("click"):c.hasClass("selected")&&c.trigger("click")})}),a.optDiv.prepend(a.selAll))},Search:function(){var a=this,d=a.CaptionCont.addClass("search"),h=b('<p class="no-match">');a.ftxt=b('<input type="text" class="search-txt inputActive" value="" placeholder="'+c.searchText+'">').on("click",function(a){a.stopPropagation()});d.append(a.ftxt);
a.optDiv.children("ul").after(h);a.ftxt.on("keyup.sumo",function(){var d=a.optDiv.find("ul.options li.opt").each(function(d,c){c=b(c);-1<c.text().toLowerCase().indexOf(a.ftxt.val().toLowerCase())?c.removeClass("hidden"):c.addClass("hidden")}).not(".hidden");h.html(c.noMatch.replace(/\{0\}/g,a.ftxt.val())).toggle(!d.length);a.selAllState()})},selAllState:function(){if(c.selectAll){var a=0,d=0;this.optDiv.find("li.opt").not(".hidden").each(function(c,g){b(g).hasClass("selected")&&a++;b(g).hasClass("disabled")||
d++});a==d?this.selAll.removeClass("partial").addClass("selected"):0==a?this.selAll.removeClass("selected partial"):this.selAll.addClass("partial")}},showOpts:function(){var a=this;a.E.attr("disabled")||(a.is_opened=!0,a.select.addClass("open"),a.ftxt?a.ftxt.focus():a.select.focus(),b(document).on("click.sumo",function(d){!a.select.is(d.target)&&0===a.select.has(d.target).length&&a.is_opened&&(a.hideOpts(),c.okCancelInMulti&&a._cnbtn())}),a.is_floating&&(H=a.optDiv.children("ul").outerHeight()+2,
a.is_multi&&(H+=parseInt(a.optDiv.css("padding-bottom"))),a.optDiv.css("height",H),b("body").addClass("sumoStopScroll")),a.setPstate())},setPstate:function(){var a=this;a.is_multi&&(a.is_floating||c.okCancelInMulti)&&(a.Pstate=[],a.E.find("option").each(function(d,b){b.selected&&a.Pstate.push(d)}))},callChange:function(){this.E.trigger("change").trigger("click")},hideOpts:function(){this.is_opened&&(this.is_opened=!1,this.select.removeClass("open").find("ul li.sel").removeClass("sel"),b(document).off("click.sumo"),
this.select.focus(),b("body").removeClass("sumoStopScroll"),c.search&&(this.ftxt.val(""),this.optDiv.find("ul.options li").removeClass("hidden"),this.optDiv.find(".no-match").toggle(!1)))},setOnOpen:function(){var a=this.optDiv.find("li.opt:not(.hidden)").eq(c.search?0:this.E[0].selectedIndex);this.optDiv.find("li.sel").removeClass("sel");a.addClass("sel");this.showOpts()},nav:function(a){var d=this.ul.find("li.opt:not(.disabled, .hidden)"),b=this.ul.find("li.opt.sel:not(.hidden)"),c=d.index(b);if(this.is_opened&&
b.length){if(a&&0<c)a=d.eq(c-1);else if(!a&&c<d.length-1&&-1<c)a=d.eq(c+1);else return;b.removeClass("sel");b=a.addClass("sel");a=this.ul;d=a.scrollTop();c=b.position().top+d;c>=d+a.height()-b.outerHeight()&&a.scrollTop(c-a.height()+b.outerHeight());c<d&&a.scrollTop(c)}else this.setOnOpen()},basicEvents:function(){var a=this;a.CaptionCont.click(function(d){a.E.trigger("click");a.is_opened?a.hideOpts():a.showOpts();d.stopPropagation()});a.select.on("keydown.sumo",function(d){switch(d.which){case 38:a.nav(!0);
break;case 40:a.nav(!1);break;case 32:if(c.search&&a.ftxt.is(d.target))return;case 13:a.is_opened?a.optDiv.find("ul li.sel").trigger("click"):a.setOnOpen();if(a.ftxt&&(null==a.ftxt[0].value||""==a.ftxt[0].value)){a.hideOpts();$el=b(d.currentTarget);$el.nextFocus();return}break;case 9:case 27:c.okCancelInMulti&&a._cnbtn();a.hideOpts();return;default:return}d.preventDefault()});b(window).on("resize.sumo",function(){a.floatingList()})},onOptClick:function(a){var d=this;a.click(function(){var a=b(this);
a.hasClass("disabled")||(txt="",d.is_multi?(a.toggleClass("selected"),a.data("opt")[0].selected=a.hasClass("selected"),d.selAllState()):(a.parent().find("li.selected").removeClass("selected"),a.toggleClass("selected"),a.data("opt")[0].selected=!0),d.is_multi&&c.triggerChangeCombined&&(d.is_floating||c.okCancelInMulti)||(d.setText(),d.callChange()),d.is_multi||d.hideOpts())})},setText:function(){this.placeholder="";if(this.is_multi){sels=this.E.find(":selected").not(":disabled");for(i=0;i<sels.length;i++)if(i+
1>=c.csvDispCount&&c.csvDispCount){sels.length==this.E.find("option").length&&c.captionFormatAllSelected?this.placeholder=c.captionFormatAllSelected.replace(/\{0\}/g,sels.length)+",":this.placeholder=c.captionFormat.replace(/\{0\}/g,sels.length)+",";break}else this.placeholder+=b(sels[i]).text()+", ";this.placeholder=this.placeholder.replace(/,([^,]*)$/,"$1")}else this.placeholder=this.E.find(":selected").not(":disabled").text();is_placeholder=!1;this.placeholder||(is_placeholder=!0,this.placeholder=
this.E.attr("placeholder"),this.placeholder||(this.placeholder=this.E.find("option:disabled:selected").text()));this.placeholder=this.placeholder?c.prefix+" "+this.placeholder:c.placeholder;this.caption.html(this.placeholder);this.CaptionCont.attr("title",this.placeholder);csvField=this.select.find("input.HEMANT123");csvField.length&&csvField.val(this.getSelStr());is_placeholder?this.caption.addClass("placeholder"):this.caption.removeClass("placeholder");return this.placeholder},isMobile:function(){for(var a=
navigator.userAgent||navigator.vendor||window.opera,d=0;d<c.nativeOnDevice.length;d++)if(0<a.toString().toLowerCase().indexOf(c.nativeOnDevice[d].toLowerCase()))return c.nativeOnDevice[d];return!1},setNativeMobile:function(){var a=this;a.E.addClass("SelectClass");a.mob=!0;a.E.change(function(){a.setText()})},floatingList:function(){this.is_floating=b(window).width()<=c.floatWidth;this.optDiv.toggleClass("isFloating",this.is_floating);this.is_floating||this.optDiv.css("height","");this.optDiv.toggleClass("okCancelInMulti",
c.okCancelInMulti&&!this.is_floating)},vRange:function(a){opts=this.E.find("option");if(opts.length<=a||0>a)throw"index out of bounds";return this},toggSel:function(a,d){"number"===typeof d?(this.vRange(d),opt=this.E.find("option")[d]):opt=this.E.find('option[value="'+d+'"]')[0]||0;opt&&!opt.disabled&&opt.selected!=a&&(opt.selected=a,this.mob||b(opt).data("li").toggleClass("selected",a),this.callChange(),this.setPstate(),this.setText(),this.selAllState())},toggDis:function(a,d){var b=this.vRange(d);
if(b.E.find("option")[d].disabled=a)b.E.find("option")[d].selected=!1;b.mob||b.optDiv.find("ul.options li").eq(d).toggleClass("disabled",a).removeClass("selected");b.setText()},toggSumo:function(a){this.enabled=a;this.select.toggleClass("disabled",!a);a?(this.E.removeAttr("disabled"),this.select.attr("tabindex","0")):(this.E.attr("disabled","disabled"),this.select.removeAttr("tabindex"));return this},toggSelAll:function(a){var d=this;d.E.find("option").each(function(c,g){d.E.find("option")[b(this).index()].disabled||
(d.E.find("option")[b(this).index()].selected=a,d.mob||d.optDiv.find("ul.options li").eq(b(this).index()).toggleClass("selected",a),d.setText())});!d.mob&&d.selAll&&d.selAll.removeClass("partial").toggleClass("selected",a);d.callChange();d.setPstate()},reload:function(){var a=this.unload();return b(a).SumoSelect(c)},reloadData:function(){var a=b(f);if(!isNull(a.data("options-code"))){var d=a.data("options-code")+"",c=checkNull(a.data("options-param"),{}),g=checkNull(a.data("total"),!1),e=checkNull(a.data("options-none"),
!1),l=checkEmpty(a.data("default"),[]),k=new Callback(function(d){a.get(0).sumo.removeAll();g?a.get(0).sumo.add("*","\uc804\uccb4"):e&&a.get(0).sumo.add("","\uc5c6\uc74c");b.each(d,function(d,b){console.log(a);a.get(0).sumo.add(b.CODE,b.NAME)});a.get(0).sumo.reload();a.get(0).sumo.unSelectAll();a.get(0).sumo.selectItems(l)});k.async=!1;CodeService.getCodeName("HELP",d,c,k)}},unload:function(){this.select.before(this.E);this.E.show();c.outputAsCSV&&this.is_multi&&this.select.find("input.HEMANT123").length&&
this.E.attr("name",this.select.find("input.HEMANT123").attr("name"));this.select.remove();delete f.sumo;return f},add:function(a,d,c){if("undefined"==typeof a)throw"No value to add";opts=this.E.find("option");"number"==typeof d&&(c=d,d=a);"undefined"==typeof d&&(d=a);opt=b("<option></option>").val(a).html(d);if(opts.length<c)throw"index out of bounds";"undefined"==typeof c||opts.length==c?(this.E.append(opt),this.mob||this.ul.append(this.createLi(opt))):(opts.eq(c).before(opt),this.mob||this.ul.find("li.opt").eq(c).before(this.createLi(opt)));
return f},remove:function(a){var b=this.vRange(a);b.E.find("option").eq(a).remove();b.mob||b.optDiv.find("ul.options li").eq(a).remove();b.setText()},removeAll:function(){this.E.children("option");this.E.empty();this.mob||this.optDiv.empty();this.caption.text("\ub370\uc774\ud130 \uc5c6\uc74c")},selectItem:function(a){this.toggSel(!0,a)},unSelectItem:function(a){this.toggSel(!1,a)},selectAll:function(){this.toggSelAll(!0)},unSelectAll:function(){this.toggSelAll(!1)},disableItem:function(a){this.toggDis(!0,
a)},enableItem:function(a){this.toggDis(!1,a)},enabled:!0,enable:function(){return this.toggSumo(!0)},disable:function(){return this.toggSumo(!1)},init:function(){this.createElems();this.setText();return this},setFocus:function(){this.E.parent().focus()},selectItems:function(a){for(var b=this.E.children("option"),c=0;c<b.length;c++)if(!b[c].disabled)for(var e=0;e<a.length;e++)b[c].value==a[e]&&(b[c].selected=!0,this.mob||this.optDiv.find("ul.options li").eq(c).toggleClass("selected",!0));this.E.trigger("change");
this.setText()}},f.sumo.init())});return 1==e.length?e[0]:e}})(jQuery);
