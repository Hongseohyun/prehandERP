webix.csv.escape=!0;var delTmpList=[];
webix.i18n.locales["ko-KR"]={groupDelimiter:",",groupSize:3,decimalDelimeter:".",decimalSize:2,dateFormat:"%Y-%m-%d",dateFormatMD:"%m-%d",timeFormat:"%H:%i",longDateFormat:"%Y\ub144%F%d\uc77c",fullDateFormat:"%Y-%m-%d %H:%i",priceSettings:{groupDelimiter:",",groupSize:3,decimalDelimeter:".",decimalSize:0},price:"{obj}",calendar:{monthFull:"1\uc6d4 2\uc6d4 3\uc6d4 4\uc6d4 5\uc6d4 6\uc6d4 7\uc6d4 8\uc6d4 9\uc6d4 10\uc6d4 11\uc6d4 12\uc6d4".split(" "),monthShort:"1\uc6d4 2\uc6d4 3\uc6d4 4\uc6d4 5\uc6d4 6\uc6d4 7\uc6d4 8\uc6d4 9\uc6d4 10\uc6d4 11\uc6d4 12\uc6d4".split(" "),dayFull:"\uc77c\uc694\uc77c \uc6d4\uc694\uc77c \ud654\uc694\uc77c \uc218\uc694\uc77c \ubaa9\uc694\uc77c \uae08\uc694\uc77c \ud1a0\uc694\uc77c".split(" "),
dayShort:"\uc77c\uc6d4\ud654\uc218\ubaa9\uae08\ud1a0".split("")}};webix.i18n.setLocale("ko-KR");webix.editors.traditional_text=webix.editors.text;
webix.editors.text={focus:function(){this.getInputNode(this.node).focus();this.getInputNode(this.node).select()},getValue:function(){return this.getInputNode(this.node).value},setValue:function(a){this.getInputNode(this.node).value=a},getInputNode:function(){return this.node.firstChild},render:function(){$editor=this;var a="";this.config.option&&this.config.option.maxlength&&(a=' maxlength="'+this.config.option.maxlength+'" ');a=webix.html.create("div",{"class":"webix_dt_editor"},"<input type='text' "+
a+">");this.config&&this.config.option&&("code"!=this.config.option.type&&"uppercase"!=this.config.option.type||$(a).allowOnlyUpperCase(),"positiveNumber"!=this.config.option.type&&"negativeNumber"!=this.config.option.type&&"number"!=this.config.option.type||$(a).allowOnlyNumeric());return a}};webix.GroupMethods.median=function(a,b){if(!b.length)return 0;for(var c=0,d=b.length-1;0<=d;d--)c+=1*a(b[d]);return c/b.length};
webix.protoUI({name:"datagrid",delTmpList:[],getData:function(){this.editStop();for(var a=this.serialize(),b=[];0!=a.length;){var c=a.shift();if(c.data&&Array.isArray(c.data)&&0<c.data.length)for(var d=0;d<c.data.length;d++)a.push(c.data[d]);else b.push(c)}return b},getCheckedData:function(a){var b=this.getData(),c=this.getColumnConfig(a),d=checkEmpty(c.checkValue,"");return b=b.filter(function(b){return(isEmpty(d)?b[a]:d==b[a])?!0:!1})},getRowStatusModified:function(){var a=!1,b=this.getData(),c=
this.delTmpList.length;b=b.filter(function(b){if("C"==b.ROWSTAT||"U"==b.ROWSTAT)a=!0});0<c&&(a=!0);return a},updateCell:function(a,b,c){},updateRow:function(a,b){},getNextEditableColumn:function(a,b){var c=this.getColumnIndex(b);null==b&&(c=-1);var d=0;b=(c+1)%this.config.columns.length;if(b<c)try{a=this.getNextId(a)}catch(e){a=null}for(;!this.config.columns[b].editor||this.config.columns[b].hidden;){c=b;b=(c+1)%this.config.columns.length;if(b<c){d++;try{a=this.getNextId(a)}catch(e){a=null}}if(d>
this.data.count()){a=b=null;break}}c=null;b&&(c=this.config.columns[b].id);return{rowId:a,colId:c}},checkValidation:function(){this.editStop();var a=!0,b;for(b in this.invalidCellMap)for(var c in this.invalidCellMap[b]){a=this.getColumnIndex(c);var d=this;a=this.config.columns[a].option?this.config.columns[a].option.maxlength:null;var e=this.getItem(b)[c];a&&getByteSize(e)>parseInt(a)?(a=$(this.getHeaderNode(c)).text()+"\uc744(\ub97c) \ud655\uc778\ud558\uc138\uc694. \ub370\uc774\ud130 \uae38\uc774\uac00 "+
a+"Byte\ub97c \ucd08\uacfc\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.(\ud604\uc7ac: "+getByteSize(e)+"Byte)",popup.alert.show(a,function(){d.select(b,c);d.config.editable&&d.editCell(b,c,!1,!0)})):popup.alert.show($(this.getHeaderNode(c)).text()+"\uc744(\ub97c) \ud655\uc778\ud558\uc138\uc694.",function(){d.select(b,c);d.config.editable&&d.editCell(b,c,!1,!0)});d.select(b);d.editCell(b);d.showCell(b);a=!1;break}return a},clearData:function(){this.invalidCellMap={};this.editStop();this.blockEvent();this.clearAll();
this.unblockEvent();this.delTmpList=[];this._spans_pull={}},setData:function(a){this.clearData();this.parse(a,"json")},showLoadingMsg:function(a){this.__oldEnabled=this.isEnabled();this.disable();this.showOverlay(a)},hideLoadingMsg:function(){this.hideOverlay();this.__oldEnabled&&this.enable()},addRow:function(a){this.editStop();if(a=this.add(checkEmpty(a,{}))){this.select(a);for(var b="",c=this.config.columns,d=0;d<c.length;d++){var e=c[d];if(e.editor){b=e.id;break}}this.editCell(a,b);this.showCell(a)}},
addRows:function(a){this.editStop();for(var b,c=0;c<a.length;c++)b=this.add(checkEmpty(a[c],{}));b&&(this.select(b),this.editCell(b))},removeRow:function(a){if(!isNull(a)&&!isNull(a.id)){this.blockEvent();this.editStop();var b=this.getPrevId(a.id,1);isNull(b)&&this.getNextId(a.id,1);a.id&&(delete this.invalidCellMap[a.id],this.remove(a.id));this.unblockEvent()}},removeRows:function(a){this.blockEvent();this.editStop();if(a&&a[0]&&a[0].id){var b=this.getPrevId(a[0].id,1);isNull(b)&&(b=this.getNextId(a[a.length-
1].id,1));for(var c=0;c<a.length;c++)delete this.invalidCellMap[row[c].id],this.remove(a[c].id);this.unblockEvent();isNull(b)||this.select(b)}},removeSelectedRow:function(){var a=this.getPrevId(this.getSelectedId(),1);isNull(a)&&(a=this.getNextId(this.getSelectedId(),1));if(this.getSelectedId()){this.blockEvent();this.editStop();for(var b=this.getSelectedId(),c=this.getData(),d=this.getItem(b);0!=c.length;){var e=c.shift();e.id==b&&"C"!=d.ROWSTAT&&this.delTmpList.push(e)}delete this.invalidCellMap[this.getSelectedId()];
this.remove(this.getSelectedId());this.unblockEvent();a&&this.select(a)}},delDataAdd:function(a){for(;0!=this.delTmpList.length;){var b=this.delTmpList.shift();b.ROWSTAT="D";a.push(b)}},defaults:{leftSplit:0,rightSplit:0,columnWidth:100,minColumnWidth:20,minColumnHeight:54,prerender:!1,autoheight:!1,autowidth:!1,header:!0,fixedRowHeight:!0,scrollAlignY:!0,datafetch:50,"export":!0,dragColumn:!1,resizeColumn:!0,editable:!0,checkboxRefresh:!0,scrollY:!0,scrollX:!0,footer:!1,blockselect:!1,clipboard:!1,
select:"row",navigation:!0,tooltip:!0,autoselect:!1,enablerowclick:!1,on:{onValidationSuccess:function(a,b,c){delete this.invalidCellMap[a]},onValidationError:function(a,b,c){this.invalidCellMap[a]=c},onAfterLoad:function(){this.count()||this.config.editable||this.showOverlay("\ud45c\uc2dc\ud560 \ub370\uc774\ud130\uac00 \uc5c6\uc2b5\ub2c8\ub2e4.");window.onGridDataLoaded&&onGridDataLoaded(this.config.id);this.config&&"datagrid"===this.config.view&&!isNull(this.getFirstId())&&this.config.autoselect&&
this.select(this.getFirstId())},onBeforeAdd:function(){this.hideOverlay()},onBeforeEditStart:function(a){this.getColumnConfig("cat_id");var b=this.getItem(a.row),c=this.getColumnConfig(a.column);if(("select"==c.editor||"combo"==c.editor)&&c.option&&c.option.parent_id){b=this.getItem(a.row);var d=b[c.option.parent_id];c.collection.filter(function(a){return"*"==a.refcd||a.refcd==d?!0:!1})}if("undefined"!=typeof listener.gridEditor.beforeEditStart(this,b,c)&&!listener.gridEditor.beforeEditStart(this,
b,c))return!1},onAfterEditStart:function(a){(a=event||window.event)&&"click"==a.type&&"BUTTON"==a.srcElement.tagName&&$(a.srcElement).hasClass("btnCodeHelpGrid")&&this.editStop(null,!0,!0)},onBeforeEditStop:function(a,b,c){},onAfterEditStop:function(a,b,c){var d=this,e=event||window.event,f=d.getItem(b.row),l=a.old,h=a.value,g=d.getColumnConfig(b.column);null==l&&(l="");"C"!=f.ROWSTAT&&l!=h&&(f.ROWSTAT="U");if(e&&"click"==e.type&&"BUTTON"==e.srcElement.tagName&&$(e.srcElement).hasClass("btnCodeHelpGrid")){if(g.option)var k=
g.option;else return;e=k.code;var n=b.getValue(),m=k.param,p=k.target,t=k.refcd,q=k.tarcd,r;for(r in t){var u=checkEmpty(t[r],r.toUpperCase());m[u]=checkEmpty(f[r],"")}"code"==k.type?(m.CODEGB=n,k=function(a){b.setValue(a.CODE);f[b.column]=a.CODE;f[p]=a.NAME;for(var c in q)f[c]=checkEmpty(a[q[c]],"");d.updateItem(b.row,f);"C"!=f.ROWSTAT&&l!=(isEmpty(a)?"":a.CODE)&&(f.ROWSTAT="U");listener.gridRow.callback(d.config.id,b.row,b.column)},popup.help.show(e,n,m,k)):"cmuser"==k.type&&(m.CONTUSERID=n,k=function(a){if(!isEmpty(a)){b.setValue(a.CONTUSERID);
f[b.column]=a.CONTUSERID;f[p]=a.CONTUSERNM;for(var c in q)f[c]=checkEmpty(a[q[c]],"")}else if(isEmpty(f[p]))for(c in b.setValue(""),f[b.column]="",f[p]="",q)f[c]="";"C"!=f.ROWSTAT&&l!=(isEmpty(a)?"":a.CONTUSERID)&&(f.ROWSTAT="U");d.updateItem(b.row,f);listener.gridRow.callback(d.config.id,b.row,b.column)},popup.cmuser.show(e,m,k))}if(g.option&&("code"==g.option.type||"cmuser"==g.option.type)&&(n=b.getValue(),p=g.option.target,!isEmpty(n)&&isEmpty(f[p]))){b.setValue("");f[b.column]="";f[p]="";for(r in q)f[r]=
"";d.updateItem(b.row,f)}d.getColumnConfig(b.column).format==dateFormat&&dateRegExp.test(h)?(h=h.replace(/\-|\./g,""),f[b.column]=h.replace(/(\d{4})(\d{2})(\d{2})/,"$1-$2-$3")):d.getColumnConfig(b.column).format==dateFormatMD&&dateRegExp.test(h)&&(h=h.replace(/\-|\./g,""),f[b.column]=h.replace(/(\d{2})(\d{2})/,"$1-$2"));listener.gridEditor.changed(d,a,b,c)},onLiveEdit:function(a,b){var c=window.event;b.getValue();var d=this.getColumnConfig(b.column);if(d.option&&(d=d.option,"code"==d.type||"cmuser"==
d.type)){var e=this.getItem(b.row),f=d.tarcd;e[d.target]="";for(var l in f)e[l]="";"C"!=e.ROWSTAT&&a.old!=a.value&&(e.ROWSTAT="U");this.updateItem(b.row,e)}listener.gridEditor.keydown(this,b,c)},onItemClick:function(a,b,c){b=this.getItem(a.row);listener.gridRow.itemClick(a.row,a.column,b,this)},onItemDblClick:function(a,b,c){b=this.getItem(a.row);listener.gridRow.dblclick(a.row,a.column,b,this)},onBeforeSelect:function(a,b){this.config.autoselect&&this.lastSelectedItemId==a.row&&this.callEvent("onAfterSelect",
[a,b,"onBeforeSelect"])},onAfterSelect:function(a,b,c){try{if(this.lastSelectedItemId!=a.row||"onBeforeSelect"==c){var d=this.getItem(a.row);listener.gridRow.click(d,this);this.lastSelectedItemId=a.row}}catch(e){}},onCheck:function(a,b,c){var d=this.getItem(a);"C"!=d.ROWSTAT&&(d.ROWSTAT="U");listener.gridEditor.checked(this,a,b,c)}},rules:{$all:function(a,b,c){var d=!0,e=this.config.columns;c=this.getColumnIndex(c);if(-1<c){if(e[c].option)if(e[c].option.required&&(isNull(a)||""==a)&&(d=!1),e[c].option.maxlength&&
getByteSize(a)>parseInt(e[c].option.maxlength)&&(d=!1),"codelist"==e[c].option.type){var f=(e[c].option.gridCodeMapping||e[c].returnCodeMapping||"").split(",");if(isNull(b[f[0]])||""==b[f[0]])d=!1}else if("positiveNumber"==e[c].option.type)d=0<a;else if("negativeNumber"==e[c].option.type)d=0>a;else{if(!isEmpty(e[c].option.strtdt)||!isEmpty(e[c].option.enddt)){var l=isEmpty(e[c].option.strtdt),h=l?e[c].option.enddt:e[c].option.strtdt,g=l?a instanceof Date?a:checkNull(a,"").replace(/\-|\./g,""):b[h]instanceof
Date?b[h]:checkNull(b[h],"").replace(/\-|\./g,"");b=l?b[h]instanceof Date?b[h]:checkNull(b[h],"").replace(/\-|\./g,""):a instanceof Date?a:checkNull(a,"").replace(/\-|\./g,"");if(!isEmpty(b)&&!isEmpty(g)){dateRegExp.test(g)?(f=parseInt(g.substr(0,4),10),l=parseInt(g.substr(4,2),10),g=parseInt(g.substr(6),10),f=new Date(f,l-1,g)):g instanceof Date&&(f=g);if(dateRegExp.test(b)){var k=parseInt(b.substr(0,4),10);g=parseInt(b.substr(4,2),10);b=parseInt(b.substr(6),10);k=new Date(k,g-1,b)}else b instanceof
Date&&(k=b);d=isEmpty(f)||isEmpty(k)?d:f<=k}}}else isEmpty(e[c].editor)||!e[c].required||!isNull(a)&&""!=a||(d=!1);e[c].format==dateFormat?isEmpty(e[c].editor)||!a||dateRegExp.test(a)||(d=!1):e[c].format==dateFormatMD?isEmpty(e[c].editor)||!a||dateRegExpMD.test(a)||(d=!1):e[c].format==fullDateFormat?isEmpty(e[c].editor)||!a||fullDateRegExp.test(a)||(d=!1):e[c].format==telFormat?isEmpty(e[c].editor)||!a||telRegExp.test(a)||(d=!1):e[c].format==timeFormat?isEmpty(e[c].editor)||!a||timeRegExp.test(a)||
(d=!1):e[c].format==mailFormat&&(isEmpty(e[c].editor)||!a||mailRegExp.test(a)||(d=!1))}return d}}},lastSelectedItemId:null,invalidCellMap:{}},webix.ui.treetable);
webix.GroupMethods={sum:function(a,b){b=b||this;for(var c=0,d=0;d<b.length;d++)c+=1*a(b[d]);return c},avg:function(a,b){b=b||this;for(var c=0,d=0;d<b.length;d++)c+=1*a(b[d]);return Math.round(c/b.length)},min:function(a,b){b=b||this;for(var c=Infinity,d=0;d<b.length;d++)1*a(b[d])<c&&(c=1*a(b[d]));return 1*c},max:function(a,b){b=b||this;for(var c=-Infinity,d=0;d<b.length;d++)1*a(b[d])>c&&(c=1*a(b[d]));return 1*c},count:function(a,b){return b.length},count2:function(a,b){return b.length},any:function(a,
b){return a(b[0])},string:function(a,b){return a.$name}};
webix.ui.datafilter.summColumn=webix.extend({getValue:function(){},setValue:function(){},refresh:function(a,b,c){var d=0;a.mapCells(null,c.columnId,null,1,function(a){a*=1;isNaN(a)||(d+=a);if(0!=a)return a});c.format&&(d=c.format(d));c.template&&(d=c.template({value:d}));c.text=d;b.firstChild.innerHTML='<span style="width:100%;display:block;text-align:right;">'+d+"</span>"},trackCells:!0,render:function(a,b){b.template&&(b.template=webix.template(b.template));return""}},webix.ui.datafilter.summColumn);
webix.ui.datafilter.avgColumn=webix.extend({refresh:function(a,b,c){var d=0;a.mapCells(null,c.columnId,null,1,function(a){a*=1;isNaN(a)||(d+=a);return a});d=isNaN(d/a.count())?0:Math.round(d/a.count());c.format&&(d=c.format(d));c.template&&(d=c.template({value:d}));c.text=d;b.firstChild.innerHTML='<span style="width:100%;display:block;text-align:right">'+d+"</span>"}},webix.ui.datafilter.summColumn);
webix.ui.datafilter.maxColumn=webix.extend({refresh:function(a,b,c){var d="";a.mapCells(null,c.columnId,null,1,function(a){a*=1;!isNaN(a)&&(""==d||a>d)&&(d=a);return a});c.format&&(d=c.format(d));c.template&&(d=c.template({value:d}));c.text=d;b.firstChild.innerHTML='<span style="width:100%;display:block;text-align:right">'+d+"</span>"}},webix.ui.datafilter.summColumn);
webix.ui.datafilter.minColumn=webix.extend({refresh:function(a,b,c){var d="";a.mapCells(null,c.columnId,null,1,function(a){a*=1;!isNaN(a)&&(""==d||a<d)&&(d=a);return a});c.format&&(d=c.format(d));c.template&&(d=c.template({value:d}));c.text=d;b.firstChild.innerHTML='<span style="width:100%;display:block;text-align:right">'+d+"</span>"}},webix.ui.datafilter.summColumn);
webix.ui.datafilter.cntColumn=webix.extend({refresh:function(a,b,c){var d=0;a.mapCells(null,c.columnId,null,1,function(a){""!=a&&(d+=1);return a});d=intFormat(d);c.text=d;b.firstChild.innerHTML='<span style="width:100%;display:block;text-align:right">'+d+"</span>"}},webix.ui.datafilter.summColumn);
webix.ui.datafilter.cnt2Column=webix.extend({refresh:function(a,b,c){var d=0;a.mapCells(null,c.columnId,null,1,function(a){""!=a&&(d+=1);return a});d=intFormat(d);c.text=d+"\uac74";b.firstChild.innerHTML='<span style="width:100%;display:block;text-align:right">'+d+"\uac74</span>"}},webix.ui.datafilter.summColumn);
webix.ui.datafilter.timeColumn=webix.extend({refresh:function(a,b,c){var d=0;a.mapCells(null,c.columnId,null,1,function(a){a*=1;isNaN(a)||(d+=a);return(a+"").toHHMMSS()});c.text=(d+"").toHHMMSS();b.firstChild.innerHTML='<span style="width:100%;display:block;text-align:right;">'+(d+"").toHHMMSS();NaN}},webix.ui.datafilter.summColumn);webix.ui.datafilter.count=webix.ui.datafilter.cntColumn;webix.ui.datafilter.count2=webix.ui.datafilter.cnt2Column;webix.ui.datafilter.min=webix.ui.datafilter.minColumn;
webix.ui.datafilter.max=webix.ui.datafilter.maxColumn;webix.ui.datafilter.avg=webix.ui.datafilter.avgColumn;webix.ui.datafilter.sum=webix.ui.datafilter.summColumn;webix.ui.datafilter.time=webix.ui.datafilter.timeColumn;
var intFormat=function(a){return isNull(a)?"0":webix.i18n.intFormat(a)},intFormat2=function(a){return isNull(a)?"":0==a?"":webix.i18n.intFormat(a)},numberFormat=function(a){return isNull(a)?"0":webix.i18n.numberFormat(a)},priceFormat=function(a){return isNull(a)?webix.i18n.locales["ko-KR"].price.replace(/{obj}/g,"")+"0":webix.i18n.priceFormat(a)},dateFormat=function(a){if(null==a||""==a||8>a.length)return a;try{a=a.replace(/-/g,"");a=a.replace(/\\./g,"");var b=a.substring(0,4),c=a.substring(4,6),
d=a.substring(6,8);return webix.i18n.dateFormatStr(webix.i18n.parseFormatDate(b+"."+c+"."+d))}catch(e){return a}},dateFormatMD=function(a){if(isNull(a)||""==a)return"";var b=dateRegExpMD.exec(a);return isNull(b)?a:b[1]+"-"+b[2]},longDateFormat=function(a){if(null==a||""==a||8>a.length)return"";a=a.replace(/-/g,"");a=a.replace(/\\./g,"");var b=a.substring(0,4),c=a.substring(4,6);a=a.substring(6,8);return webix.i18n.longDateFormatMDStr(webix.i18n.parseFormatDate(b+"."+c+"."+a))},fullDateFormat=function(a){if(null==
a||""==a||12>a.length)return"";a=a.replace(/-/g,"");a=a.replace(/\\./g,"");var b=a.substring(0,4),c=a.substring(4,6),d=a.substring(6,8),e=a.substring(8,10);a=a.substring(10,12);return webix.i18n.fullDateFormatStr(webix.i18n.parseFormatDate(b+"-"+c+"-"+d+" "+e+":"+a))},webixDatagridCheckboxHandler=function(a,b){a=$("*[view_id="+a).parent().webix_datagrid();var c=a.getItem(b);try{a.config.editable&&a.config.columns&&a.config.columns[0].header&&a.config.columns[0].header[0].content&&"masterCheckbox"==
a.config.columns[0].header[0].content&&(c[a.config.columns[0].id]=1,a.updateItem(b,c))}catch(d){}},telFormat=function(a){if(isNull(a)||""==a)return"";var b=telRegExp.exec(a);isNull(b)||(a=b[1],a+=b[2]?"-"+b[2]:"",a+=b[3]?"-"+b[3]:"");return a},timeFormat=function(a){if(isNull(a)||""==a)return"";var b=timeRegExp.exec(a);return isNull(b)?a:b[1]+":"+b[2]},mailFormat=function(a){if(isNull(a)||""==a)return"";var b=mailRegExp.exec(a);return isNull(b)?a:b[1]+":"+b[2]},column={codehelp:function(a,b,c){return checkEmpty(a[b],
"")+"<button class='btnCodeHelpGrid' data-target='"+c+"' style='position:absolute; right:0px; z-index:9; border: 1px solid #c8c8c8; margin-top: 1px;'></button>"}};
webix.ready(function(){webix.CustomScroll.init();webix.UIManager.addHotKey("up",function(a,b){if(!a||!a._custom_tab_handler&&!a._custom_tab_handler(!0,b))return!1;var c=a.getEditor();if(c){if("select"==c.config.editor||"combo"==c.config.editor){var d=c.getInputNode();if($(d).is(":focus"))return}if(d=a.getPrevId(c.row))return a.editStop(),a.select(d),a.editCell(d,c.column),b.preventDefault(),b.stopPropagation(),b.stopImmediatePropagation(),!1}});webix.UIManager.addHotKey("down",function(a,b){if(!a||
!a._custom_tab_handler&&!a._custom_tab_handler(!0,b))return!1;var c=a.getEditor();if(c){if("select"==c.config.editor||"combo"==c.config.editor){var d=c.getInputNode();if($(d).is(":focus"))return}if(d=a.getNextId(c.row))return a.editStop(),a.select(d),a.editCell(d,c.column),b.preventDefault(),b.stopPropagation(),b.stopImmediatePropagation(),!1}});webix.UIManager.removeHotKey("enter");webix.UIManager.addHotKey("enter",function(a,b){if(!a||!a._custom_tab_handler)return!1;var c=!1,d=a.getEditor();if(!isNull(d)){var e=
!0;d.getValue&&(e=""!=d.getValue());b=a.getColumnConfig(d.column);if(b&&b.option)var f=b.option;else f={},c=!0;if(f.required&&!e)return!1;if("code"!=f.type&&"cmuser"!=f.type||!e)c=!0;else{var l=a.getItem(d.row);c=f.param;e=f.refcd;var h=f.tarcd,g=checkEmpty(f.rltcolnm,"NAME");for(m in e){var k=checkEmpty(e[m],m.toUpperCase());c[k]=checkEmpty(l[m],"")}c.CODEGB=d.getValue();c.RESINUMBER=d.getValue();c[b.id]=d.getValue();var n=!1;var m=new Callback(function(b){if(isEmpty(b))n=!1;else{l[f.target]=b[0][g];
for(var c in h)l[c]=checkEmpty(b[0][h[c]],"");a.updateItem(d.row,l);n=!0}});c.TYPE="CODE";c.QUERY_ID=f.code;platform.postService("/getCodeName",c,m);if(n)c=!0;else return d.focus(),d.getInputNode().select(),a.select(d.row,!1),!1}if(c&&a&&a._in_edit_mode&&a.editNext)return a.editNext(!0)}})});
